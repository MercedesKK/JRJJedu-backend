<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>首页</title>
    <link
      rel="stylesheet"
      href="./utils/fontawesome-free-5.15.4-web/css/all.min.css"
    />
    <link rel="stylesheet" href="./css/custom.css">
    <link rel="stylesheet" href="./css/header.css">
    <link rel="stylesheet" href="./css/main.css">
	<style>
		#login{
			width: 700px;
			height: 300px;
			background-color: #fff;
			position: fixed;
			top:25%;
			left: 30%;
			display: none;
			z-index: 1020;
			border-radius: 12px;
		}
		.bili-mini-close-icon {
		    width: 32px;
		    height: 32px;
		    position: absolute;
		    top: 20px;
		    right: 20px;
		    background: url(images/close.a35a1809.svg) no-repeat;
		    background-size: 100% 100%;
		    cursor: pointer;
		    z-index: 2;
		}
	</style>
  </head>
  <body>
	  <div id="fade"></div>
    <header class="header">
      <nav id="navBar">
       <div class="menu" id="menu">
        <div class="left">
          <ul class="left_ul">
            <li class="left_li">
              <a href="./index.html">
                <i class="fas fa-house-damage"></i>
                首页
              </a>
            </li>
            <li class="left_li"><a href="javascript:;">番剧</a></li>
            <li class="left_li"><a href="javascript:;">直播</a></li>
            <li class="left_li"><a href="javascript:;">游戏中心</a></li>
            <li class="left_li"><a href="javascript:;">会员购</a></li>
            <li class="left_li"><a href="javascript:;">漫画</a></li>
            <li class="left_li"><a href="javascript:;">赛事</a></li>
            <li class="left_li">
              <a href="javascript:;">
                <i class="fas fa-chess-rook"></i>
                下载客户端
              </a>
            </li>
          </ul>
        </div>

        <div class="search">
          <input type="text" class="search_input" placeholder="魔兽世界"  />
          <i class="fab fa-sistrix" onclick="searchHandleClick()"></i>
        </div>

        <div class="right">
            <ul class="right_ul">
              <li class="right_li avatar_box" id="noToken">
                <a href="javascript:void(0);" style="width: 32px;height:42px;line-height: 42px;color: #fff;" id="userAvatar" onclick="showLogin()">
                 登录
                </a>
               </li>
			   <li class="right_li avatar_box" id="yesToken">
			     <a href="./user.html" style="width: 32px;height:32px" id="userAvatar">
			      <img src="./images/avatar.png" class="avatar" />
			     </a>
			    </li>
                <li class="right_li">
                    <i class="fab fa-sketch"></i>
                    <p>大会员</p>
                </li>
                <a href="./chatlist.html">
                    <li class="right_li">
                        <i class="fab fa-pushed"></i>
                        <p>消息</p>
                    </li>
                </a>
                <li class="right_li">
                    <i class="fab fa-react"></i>
                    <p>动态</p>
                </li>
                <li class="right_li">
                    <i class="fas fa-chess-rook"></i>
                    <p>收藏</p>
                </li>
                <li class="right_li">
                    <i class="fab fa-cloudversify"></i>
                    <p>历史</p>
                </li>
                <li class="right_li">
                    <i class="far fa-window-maximize"></i>
                    <p>创作中心</p>
                </li>
               <a href="./addvideo.html">
                <button> 
                  <i class="fas fa-pen-square"></i>
                  投稿
                </button>
               </a>
            </ul>
        </div>
       </div>
       <!-- <img src="./images/logo.png" class="logo" id="logo"> -->
	   <div class="logo" id="logo"><span style="font-size: 32px;color: #fff;"><I>在线视频系统</I></span></div>
      </nav>
    
    </header>


    <section class="banxin">
      <div class="main_top">
        <div class="left">
          <span class="left_circle">
            <img src="./images/userBackground.png" alt="">
            <p>动态</p>
          </span>
          <span class="left_circle">
            <img src="./images/userBackground.png" alt="">
            <p>热门</p>
          </span> <span class="left_circle">
            <img src="./images/userBackground.png" alt="">
            <p>频道</p>
          </span>
        </div>
        <div class="middle">
          <ul class="middle_types">
          </ul>
        </div>
        <div class="right">
          <ul class="right_tag">
            <li class="tag_item">
              <i class="fas fa-receipt"></i>
              <p>专栏</p>
            </li>
            <li class="tag_item">
              <i class="fas fa-sign-language"></i>
              <p>活动</p>
            </li>
            <li class="tag_item">
              <i class="fas fa-spa"></i>
              <p>社区中心</p>
            </li>
            <li class="tag_item">
              <i class="fas fa-tablet-alt"></i>
              <p>直播</p>
            </li>
            <li class="tag_item">
              <i class="fas fa-umbrella-beach"></i>
              <p>课堂</p>
            </li>
            <li class="tag_item">
              <i class="fab fa-accusoft"></i>
              <p>新歌热榜</p>
            </li>
          </ul>
        </div>
      </div>

      <div class="main_middle">
        <div class="middle_left">
          <div class="slider">
            <div class="slides" id="slides">
                
                
            </div>
            <div class="controls">
                <button class="prev"><</button>
                <button class="next">></button>
            </div>
        </div>
        </div>

        <div class="middle_right">
          <ul class="video_random">
           
          </ul>
        </div>
        <div class="middle_reGetData_button" id="resetBtn">
          <i class="fas fa-chess-rook"></i>
          <i>换</i>
          <i>一</i>
          <i>换</i>
        </div>
      </div>

      <div class="main_video_all_list">
          <ul class="all_video">
            
            
           
          </ul>
      </div>

    </section>

	<div id="login" style="align-items:center;flex-direction: column;padding: 20px;">
		<div style="display: flex;justify-content: center;margin-bottom: 24px;color: #4fa5d9;font-size: 18px;font-weight: 500;">用户登录</div>
		<div>
			<div class="bili-mini-close-icon" onclick="hideLogin()"></div>
			<form style="width: 400px;height: 90px;border: 1px solid #e3e5e7;font-style: normal;border-radius: 8px;font-weight: 400;font-size: 14px;line-height: 20px;color: #212121;">
				<div style="display: flex;box-sizing: border-box;
    width: 100%;
    height: 44px;
    padding: 12px 20px;">
					<div class="form_info">账号</div>
					<input  id="userName" autocomplete="on" maxlength="32" placeholder="请输入账号" type="text" style="margin-left: 20px;font-style: normal;font-weight: 400;font-size: 14px;line-height: 20px;-webkit-appearance: none;-moz-appearance: none;appearance: none;outline: none;border: none;: visible;">
				</div>
				<div style="display: block;
    width: 100%;
    height: 0;
    border-bottom: 1px solid #e3e5e7;"></div>
				<div style="display: flex;box-sizing: border-box;
    width: 100%;
    height: 44px;
    padding: 12px 20px;"">
					<div class="form_info">密码</div>
					<input id="password"  autocomplete="on" maxlength="32" placeholder="请输入密码" type="password" style="margin-left: 20px;font-style: normal;font-weight: 400;font-size: 14px;line-height: 20px;-webkit-appearance: none;-moz-appearance: none;appearance: none;outline: none;border: none;: visible;">
				</div>
			</form>
			<div style="display: flex;
    -webkit-box-pack: justify;
    -ms-flex-pack: justify;
    justify-content: space-between;
    margin-top: 20px;
    width: 400px;
    font-style: normal;
    font-weight: 400;
    font-size: 14px;
    line-height: 40px;
    text-align: center;">
				<div style="box-sizing: border-box;
    width: 194px;
    height: 40px;
    cursor: pointer;
    color: #18191c;
    background: #fff;
    border: 1px solid #e3e5e7;
    border-radius: 8px;
}">注册</div>
				<div style="box-sizing: border-box;
    width: 194px;
    height: 40px;
    cursor: pointer;
    color: #fff;
    background: #00aeec;
    border-radius: 8px;"onclick="loginBtn()">登录</div>
			</div>
		</div>
	</div>
    <script src="./common/modules/jquery/jquery-3.4.1.min.js"></script>
    <script src="./layui-v2.5.5/layui.js" charset="utf-8"></script>
    <script src="./common/modules/jquery/jquery.particleground.min.js"></script>
    <script src="./common/modules/jquery/jquery.cookie.js"></script>
    <script src="./common/common.js"></script>
    <script src="./js/lay-config.js?v=1.0.4" charset="utf-8"></script>
    <script src="./js/all.js" charset="utf-8"></script>
    <script src="./js/index.js" charset="utf-8"></script>
    <script>
      const navBar = document.querySelector('#menu');
        window.addEventListener('scroll', function(){
          console.log(scrollY,'scrollTop')
          if (scrollY >= 65) {
            navBar.classList.add('sticky')
          }else {
            navBar.classList.remove('sticky')
          }
        })
      function  searchHandleClick() {
          window.location.href = './search.html?name='+encodeURI($('.search_input').val())
      }
	  function showLogin(){
		  var body1 = document.getElementById("fade");
		  body1.style.position = "absolute";
		  body1.style.zIndex = "1";
		  body1.style.width = document.body.scrollWidth +"px";
		  body1.style.height = document.body.scrollHeight +"px";
		  body1.style.top = "0px";
		  body1.style.left = "0px";
		  body1.style.background = "#000";
		  body1.style.filter = "alpha(opacity=40)";
		  body1.style.opacity = "0.40";
		  var login = document.getElementById("login");
		  login.style.display="flex";
		  
	  }
      function hideLogin(){
		  var body1 = document.getElementById("fade");
		  body1.style.position = 'unset';
		  body1.style.zIndex = 'unset';
		  body1.style.width = 'unset';
		  body1.style.height = 'unset';
		  body1.style.top = 'unset';
		  body1.style.left = 'unset';
		  body1.style.background = 'unset';
		  body1.style.filter = 'unset';
		  body1.style.opacity = 'unset';
		  var login = document.getElementById("login");
		  login.style.display="none";
	  }
	function loginBtn() {
	    elyasAjax('user/login', JSON.stringify({
	        userName: $('#userName').val(),
	        password: $('#password').val(),
	    })).then(res => {
	
	        if (res.code !== 200) {
	            commonUtil.message(res.message, 'danger')
	            return;
	        } else {
	            commonUtil.message('登陆成功！')
	            $.cookie('token', res.data.token, {expires: 7})
	            if (res.data.roleId == 0) {
	                // 跳转到后台管理页面
	                window.location.href = '../../resource/admin/files/index.html'
	            } else if (res.data.roleId == 1) {
	                // 跳转到前台
	                window.location.href = './index.html'
	            }  else {
	                commonUtil.message('此账号暂无分配权限！', 'danger')
	            }
	
	
	        }
	    })
	}
    </script>
  </body>
</html>
